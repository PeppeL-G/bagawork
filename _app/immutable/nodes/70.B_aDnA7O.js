import{s as X,a as et,i as nt,n as G,r as at}from"../chunks/scheduler.B0TnBjPs.js";import{S as $,i as tt,e as f,s as J,q as U,a as d,g as M,b as N,d as T,r as B,h as n,o as b,j as r,p as E,B as I,C as W,v as st,c as lt,f as rt,m as it,t as ot,k as ut,l as pt}from"../chunks/index.BXVnRmkj.js";import"../chunks/index.Gu5gcrKE.js";import{g as ft}from"../chunks/project-compressor.Cxxezr6y.js";import{g as dt,s as ht}from"../chunks/get-create-app-code.D0qjuaK3.js";function mt(i){let l,g="The app will restart with the new values you enter below as soon as you change them.",h,s,S,o,m,c,C,u,v,e,p,y,k,A,Z,x,z,_,R,j,w,L="Current state (JSON)",D,O,P=JSON.stringify(i[3],null,"	")+"",V,F,Q;return{c(){l=f("p"),l.textContent=g,h=J(),s=f("p"),S=U(`BagaCode:
	`),o=f("input"),m=J(),c=f("a"),C=U("Open in editor"),v=J(),e=f("p"),p=U(`Start state (JSON):
	`),y=f("textarea"),k=J(),A=f("p"),Z=U(`Runtime settings (JSON):
	`),x=f("textarea"),z=J(),_=f("div"),j=J(),w=f("h2"),w.textContent=L,D=J(),O=f("div"),V=U(P),this.h()},l(t){l=d(t,"P",{"data-svelte-h":!0}),M(l)!=="svelte-1jvlg18"&&(l.textContent=g),h=N(t),s=d(t,"P",{});var a=T(s);S=B(a,`BagaCode:
	`),o=d(a,"INPUT",{}),m=N(a),c=d(a,"A",{href:!0,target:!0});var Y=T(c);C=B(Y,"Open in editor"),Y.forEach(n),a.forEach(n),v=N(t),e=d(t,"P",{});var H=T(e);p=B(H,`Start state (JSON):
	`),y=d(H,"TEXTAREA",{}),T(y).forEach(n),H.forEach(n),k=N(t),A=d(t,"P",{});var K=T(A);Z=B(K,`Runtime settings (JSON):
	`),x=d(K,"TEXTAREA",{}),T(x).forEach(n),K.forEach(n),z=N(t),_=d(t,"DIV",{id:!0,class:!0}),T(_).forEach(n),j=N(t),w=d(t,"H2",{"data-svelte-h":!0}),M(w)!=="svelte-1ttshcb"&&(w.textContent=L),D=N(t),O=d(t,"DIV",{id:!0,class:!0});var q=T(O);V=B(q,P),q.forEach(n),this.h()},h(){b(c,"href",u="/editor#"+i[0]),b(c,"target","_blank"),b(_,"id","screen"),b(_,"class","svelte-yhff0k"),b(O,"id","currentState"),b(O,"class","svelte-yhff0k")},m(t,a){r(t,l,a),r(t,h,a),r(t,s,a),E(s,S),E(s,o),I(o,i[0]),E(s,m),E(s,c),E(c,C),r(t,v,a),r(t,e,a),E(e,p),E(e,y),I(y,i[1]),r(t,k,a),r(t,A,a),E(A,Z),E(A,x),I(x,i[2]),r(t,z,a),r(t,_,a),r(t,j,a),r(t,w,a),r(t,D,a),r(t,O,a),E(O,V),F||(Q=[W(o,"input",i[5]),W(y,"input",i[6]),W(x,"input",i[7]),et(R=i[4].call(null,_,{bagaCode:i[0],startStateString:i[1],runtimeSettingsString:i[2]}))],F=!0)},p(t,[a]){a&1&&o.value!==t[0]&&I(o,t[0]),a&1&&u!==(u="/editor#"+t[0])&&b(c,"href",u),a&2&&I(y,t[1]),a&4&&I(x,t[2]),R&&nt(R.update)&&a&7&&R.update.call(null,{bagaCode:t[0],startStateString:t[1],runtimeSettingsString:t[2]}),a&8&&P!==(P=JSON.stringify(t[3],null,"	")+"")&&st(V,P)},i:G,o:G,d(t){t&&(n(l),n(h),n(s),n(v),n(e),n(k),n(A),n(z),n(_),n(j),n(w),n(D),n(O)),F=!1,at(Q)}}}function ct(i,l,g){let h="eNrFU2Fr2zAQ/StCDGZT1zjZxoKhDKcbo4xuoy1sZSlExOcmTJGMdGbNgv/7pDhKrMRJs33ZhwTpfPd07967JWVlSdMlncgcaEonnGlNrhdZWRJ4QhC5Jua8HIkR2t9EVgJBkQuSbEIKGMItMoVf2SMEYZOMCrBSgnzhuQ3bWO1KZsIUzUHgZQO3qWGxe+DsgvS8mhyerTnfrVGg4Uj+msQ6vaZ1RAvJc1Capj+WdJbTtBdRweZ2MiuCNKKyKAzod5om7nxvzvVDREtD06tswK6aizfgdU92MJsx28tmziiH8B44IJguUVXggp+gxFZIMZHLuQlcM5zGzS0IfWk+VrNdUW7kLx1PpjOeKxBB82mEd6aVGM1fMH6x3IypHoexnv2GoBdGLvNS8moutIvvQ41w9cSR7yMcVoaRWD94vn0lnhoa3CjG4l3Rtx3sAdxYrTtB2i5oA7TPHtRZJ8yuabfl7hR6borokxE+MTZZ0PRVktRRY4z+MWOst6XbFFZnA+iuUgyhkGq7cZ73D2rvUV252tC13g1argw9LCmyor1C+zxfvx2sePYHA7cKdzAvuWnBWwmPbKZ/XhVZXnE8zPkfSXYb/LZkE4g67J4pIAtZkZUuBI3opDd4N95K7Fc6+3fY2k/cMdZn6UYtKs7b/jtadg/6tLouIz6jXsuVnjYfrBOyR/jfynybMnyprTiKmNcPa+JNrJd0D8xPenNCUv8UpP4BpHaHf6PJQ/0HeWrCKA==",s=JSON.stringify(null,null,"	"),S=JSON.stringify({version:1},null,"	"),o=null;function m(v,e){function p({bagaCode:y,startStateString:k,runtimeSettingsString:A}){v.innerText="";try{const Z=ft(y),x=dt(Z.app,Z.pages),z=JSON.parse(A);z.onStateChange=_=>{g(3,o=_)},z.state=JSON.parse(k),ht(x,v,z)}catch(Z){alert("Error while trying to start the app from the provided BagaCode, start state or runtime settings. See the console for details."),console.log(Z)}}return p(e),{update:p}}function c(){h=this.value,g(0,h)}function C(){s=this.value,g(1,s)}function u(){S=this.value,g(2,S)}return[h,s,S,o,m,c,C,u]}class vt extends ${constructor(l){super(),tt(this,l,ct,mt,X,{})}}function gt(i){let l,g="Update",h,s,S="This page is used to test that updating an app works as it should.",o,m,c="<li>Enter the BagaCode for the &quot;old&quot; app version (use the prefilled one)</li> <li>Interact with the app, and get the variable values you want</li> <li>Copy the current state and paste it as the runtimeSettings state</li> <li>Enter the BagaCode for the new app version. You can use this one:<ul><li><code>eNrFVF1r2zAU/StCDGZT19gZg2EowyljlNFttIWtzIUI+7oxkyUjyaxZ8H+vFMcfcp0sfdpDgiTfc67uOcfeYlJVONrilGeAI5xSIiW63sRVheBJAcsk0uttwhJlfimvmQKBLlDQHwkgCm4VEeo7eQTHbYuVAFULhr7RzBybs6aDFEyDSmDqsqXrMcTvGpxdoNDCZPBPzPkUI0DCkfr9EPvyBjcezjnNQEgc/driIsNR6GFGSqPMbkDsYZ7nmvQnjoJufa/XzYOHKz2mhWzJrtqNJfD+TkaYXmaz6XVWfAlfoFL6jkrUO/UEYRkv9cE1UWu/3Tmu7cLnupjqf8P/SD9dFzQTwJz2UaLudFdf6T9n9WbbK9KsXF8Wf8EJXa+rvOS0Lpnszl9SJWrX4sjzRC1rPRHbNzwfuvhrPQbV5hB/6u9wgxcEN8bWWZKx4WOC8dqiOpulmeZzgHcr1wqOh5+0x4FOxAZH74I+DXdQVlTbYqXCCkIsf1/lcVZTdTgLnC0h52J4s6yMv9L424qk4M3EIBaANrxGu8wipcVA4YePq2F0G9nFYsZuu3Ai+FeuFTfaOKymdOzLUdg9yNNwcwYZCeN8/A2YvPatN4uJN5+M9fEj/G9nfqyJeiuNOQLp7oc9sRQLg3nB7KL3JxQtTmFaHGAa3/A1njw0zyyjaEU=</code></li></ul></li> <li>Change the runtimeSettings version to <code>2</code> or higher (should perform the update!)</li>",C,u,v;return u=new vt({}),{c(){l=f("h1"),l.textContent=g,h=J(),s=f("p"),s.textContent=S,o=J(),m=f("ol"),m.innerHTML=c,C=J(),lt(u.$$.fragment)},l(e){l=d(e,"H1",{"data-svelte-h":!0}),M(l)!=="svelte-wktn9l"&&(l.textContent=g),h=N(e),s=d(e,"P",{"data-svelte-h":!0}),M(s)!=="svelte-z4vjrg"&&(s.textContent=S),o=N(e),m=d(e,"OL",{"data-svelte-h":!0}),M(m)!=="svelte-pvmfkg"&&(m.innerHTML=c),C=N(e),rt(u.$$.fragment,e)},m(e,p){r(e,l,p),r(e,h,p),r(e,s,p),r(e,o,p),r(e,m,p),r(e,C,p),it(u,e,p),v=!0},p:G,i(e){v||(ot(u.$$.fragment,e),v=!0)},o(e){ut(u.$$.fragment,e),v=!1},d(e){e&&(n(l),n(h),n(s),n(o),n(m),n(C)),pt(u,e)}}}class Nt extends ${constructor(l){super(),tt(this,l,null,gt,X,{})}}export{Nt as component};

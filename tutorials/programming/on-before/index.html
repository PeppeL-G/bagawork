<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>BagaWork</title>
		<meta name="viewport" content="width=device-width">
		<link rel="icon" href="../../../favicon.ico">
		<meta name="theme-color" content="#ffffff">
		
		<link href="../../../_app/immutable/assets/2.Cc0q3LI5.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/ViewApp.D1tK9Ush.css" rel="stylesheet">
		<link href="../../../_app/immutable/assets/ViewApp.BmseSdrE.css" rel="stylesheet">
		<link rel="modulepreload" href="../../../_app/immutable/entry/start.DfGQzRaj.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/entry.BXzytorx.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/scheduler.B0TnBjPs.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.CBcONjAz.js">
		<link rel="modulepreload" href="../../../_app/immutable/entry/app.4nlP2jWE.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/preload-helper.D6kgxu3v.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.BXVnRmkj.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/0.BdJJj93C.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/2.BcGDvMWD.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/each.BaX_zf8z.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/changelog-entries.B0H6TqSg.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/stores.-tGz_jaI.js">
		<link rel="modulepreload" href="../../../_app/immutable/nodes/92.OT2GSPjE.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/ViewApp.qg7AIhJt.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/ViewApp.D5WliJPM.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/index.Gu5gcrKE.js">
		<link rel="modulepreload" href="../../../_app/immutable/chunks/get-create-app-code.D0qjuaK3.js">
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="layout svelte-e9cs16"><div class="publicAnnouncement svelte-e9cs16"><div class="publicAnnouncement danger svelte-1b45vgo" data-svelte-h="svelte-1cydixr"><strong>Note</strong>: This is a pre-release of BagaWork. Many things will likely change before the first stable release.
</div></div> <div class="nav svelte-e9cs16"><nav class="svelte-f9itgq"><a href="/" class="title svelte-f9itgq" data-svelte-h="svelte-r9hply">BagaWork</a> <div class="links svelte-f9itgq"><a href="/documentation/" target="" class="svelte-f9itgq">Documentation</a><a href="/tutorials/" target="" class="svelte-f9itgq  isSubCurrent">Tutorials</a><a href="/examples/" target="" class="svelte-f9itgq">Examples</a><a href="/editor/" target="_blank" class="svelte-f9itgq">Editor</a><a href="/implementation/" target="" class="svelte-f9itgq">Implementation</a><a href="/contact/" target="" class="svelte-f9itgq">Contact</a> <a class="version svelte-f9itgq" href="/changelog/">v0.0.52</a></div> </nav></div> <aside class="svelte-e9cs16"><aside><div class="group svelte-12md48y"><div class="group-name svelte-12md48y">Fundamentals</div> <div class="links svelte-12md48y"><a href="/tutorials/fundamentals/introduction/" class="svelte-12md48y">1. Introduction </a><a href="/tutorials/fundamentals/pages/" class="svelte-12md48y">2. Pages </a><a href="/tutorials/fundamentals/configuring-gui-components/" class="svelte-12md48y">3. Configuring GUI Components </a><a href="/tutorials/fundamentals/positioning-gui-components/" class="svelte-12md48y">4. Positioning GUI Components </a><a href="/tutorials/fundamentals/changing-page/" class="svelte-12md48y">5. Changing Page </a><a href="/tutorials/fundamentals/sizing-gui-components/" class="svelte-12md48y">6. Sizing GUI Components </a><a href="/tutorials/fundamentals/the-app-class/" class="svelte-12md48y">7. The App Class </a><a href="/tutorials/fundamentals/exercises/" class="svelte-12md48y">8. Exercises </a></div> </div><div class="group svelte-12md48y"><div class="group-name svelte-12md48y">Programming</div> <div class="links svelte-12md48y"><a href="/tutorials/programming/page-constants/" class="svelte-12md48y">1. Page Constants </a><a href="/tutorials/programming/app-constants/" class="svelte-12md48y">2. App Constants </a><a href="/tutorials/programming/page-variables-and-methods/" class="svelte-12md48y">3. Page Variables &amp; Methods </a><a href="/tutorials/programming/app-variables-and-methods/" class="svelte-12md48y">4. App Variables &amp; Methods </a><a href="/tutorials/programming/numbers/" class="svelte-12md48y">5. Numbers </a><a href="/tutorials/programming/booleans-keepif-and-showif/" class="svelte-12md48y">6. Booleans, keepIf() &amp; showIf() </a><a href="/tutorials/programming/on-before/" class="svelte-12md48y isCurrent">7. onBefore() </a><a href="/tutorials/programming/exercises/" class="svelte-12md48y">8. Exercises </a></div> </div><div class="group svelte-12md48y"><div class="group-name svelte-12md48y">GUI</div> <div class="links svelte-12md48y"><a href="/tutorials/gui/formatting-text-with-bbcode/" class="svelte-12md48y">1. Formatting Text with BBCode </a><a href="/tutorials/gui/styling/" class="svelte-12md48y">2. Styling </a><a href="/tutorials/gui/layouts/" class="svelte-12md48y">3. Layouts </a><a href="/tutorials/gui/paper/" class="svelte-12md48y">5. Paper </a><a href="/tutorials/gui/dynamically-sized-paper/" class="svelte-12md48y">6. Dynamically Sized Paper </a></div> </div> </aside></aside> <main class="svelte-e9cs16"><h1 data-svelte-h="svelte-3hzjz3">7. <code>onBefore()</code></h1> <p data-svelte-h="svelte-1twrsti">This tutorial will teach you the methods <code>App.onBefore()</code> and <code>Page.onBefore()</code>.</p> <h2 data-svelte-h="svelte-18d6yy3"><code>App.onBefore()</code></h2> <p data-svelte-h="svelte-1xrzxuy">Sometimes you want to have some code that runs immediately when your application starts. That code can be placed in a special method in your <code>App</code> class that is named <code>onBefore()</code>.</p> <p data-svelte-h="svelte-18bh8w">For example, let&#39;s say you need to have two number constants in your app, and you also need to have a constant that stores the sum of the previously two mentioned number constants. To achieve that, you can hardcode the sum, like this:</p> <pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">App</span><span class="token punctuation">&#123;</span>
	
	<span class="token constant">X</span> <span class="token operator">=</span> <span class="token number">5</span>
	<span class="token constant">Y</span> <span class="token operator">=</span> <span class="token number">3</span>
	<span class="token constant">SUM</span> <span class="token operator">=</span> <span class="token number">8</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre> <p data-svelte-h="svelte-s9tszs">But, this is not a good way to do it, because if you want to change <code>X</code> or <code>Y</code> to another number in the future, then you must also change <code>SUM</code> to another number. It would be better if <code>SUM</code> could be computed automatically, so one would just need to change <code>X</code> or <code>Y</code>.</p> <div class="remark-container warning"><div class="remark-container__title" data-svelte-h="svelte-ent68x">What about using the a variable?</div><p data-svelte-h="svelte-44nhw">You might think one can use the special <code>a</code> variable to achieve this, like this:</p><pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">App</span><span class="token punctuation">&#123;</span>
	
	<span class="token constant">X</span> <span class="token operator">=</span> <span class="token number">5</span>
	<span class="token constant">Y</span> <span class="token operator">=</span> <span class="token number">3</span>
	<span class="token constant">SUM</span> <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token constant">X</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token constant">Y</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre><p data-svelte-h="svelte-1w6hted">And that is very good thinking of you, but it does unfortunately not work; in your <code>App</code> class, the special <code>a</code> variable can only be used inside methods, and it can&#39;t be used when your app constants/variables are initialized.</p></div> <p data-svelte-h="svelte-1yqi0ws">So, the proper solution to this problem is to use the <code>onBefore()</code> method in your <code>App</code> class. When the special <code>a</code> variable is created, it will contain all your app constants/variables/methods, and then your <code>App.onBefore()</code> method will be called (if you have one).</p> <div class="remark-container tip"><div class="remark-container__title" data-svelte-h="svelte-1llzxwj">Example</div><p data-svelte-h="svelte-1pln3ni">Example of an app that uses <code>App.onBefore()</code> to correctly initialize a constant.</p><div class="device-wrapper svelte-1r3wtoi"><div class="device"><div class="camera" data-svelte-h="svelte-3qmnnw">◎︎</div> <div class="screen" translate="no"></div> <div class="buttons" data-svelte-h="svelte-1yd6kf5"><span>◁</span> <span>○︎</span> <span>□</span></div></div> </div><a target="_blank" href="/editor#eNpdkFFrAjEMx79KCIMpO87bhi8He9hexh6EgRtTpmDtRS2c7dHGqRz97ks51LmHhn/+TdJf2qJqGixb1K4iLFHXKgQYHZ+bBujAZKsAotuZnXE6E3iCYRJTEY9JjD9HIgsYDOBrY/QGjDVsVA12t12Shz3B2vwQsINUWjkK9pZhq5jJZxCM1QSGYW/qGpZdsRUjgHbek+bTIGPB2RdaOU+9fn4CulgdI6u8I1L5BO4kTpMdT+Xak2Ias/L8rtaXLk+88xbOF3+aIsYMG/EClt8tmgrL+wxXrq7Iv3XJ1eedZ5w/MCXtNcHrzvx/+0PKc5bQW9y0Qh8FP4lplG2SkL3ion9FluFBAIZFhkcsH4oizuMvsLCgZQ==" title="Open in our Online Editor" data-svelte-h="svelte-1dx5zjf">Open in Online Editor</a><pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">App</span><span class="token punctuation">&#123;</span>
	
	<span class="token constant">X</span> <span class="token operator">=</span> <span class="token number">5</span>
	<span class="token constant">Y</span> <span class="token operator">=</span> <span class="token number">3</span>
	<span class="token constant">SUM</span> <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// Which initial number we give to SUM doesn't matter, since it will be given its correct number in onBefore().</span>
	
	<span class="token function">onBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		a<span class="token punctuation">.</span><span class="token constant">SUM</span> <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token constant">X</span> <span class="token operator">+</span> a<span class="token punctuation">.</span><span class="token constant">Y</span>
	<span class="token punctuation">&#125;</span>
	
	<span class="token function">createStartPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> StartPage
	<span class="token punctuation">&#125;</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre><pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">StartPage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span><span class="token punctuation">&#123;</span>
	
	<span class="token function">createGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> Text<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token punctuation">.</span><span class="token constant">X</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> + </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token punctuation">.</span><span class="token constant">Y</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> = </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token punctuation">.</span><span class="token constant">SUM</span><span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre></div> <h2 data-svelte-h="svelte-tgzb3"><code>Page.onBefore()</code></h2> <p data-svelte-h="svelte-1f40f19">The special method <code>onBefore()</code> in your <code>Page</code> classes works very similar to <code>App.onBefore()</code>: <code>Page.onBefore()</code> will be called each time the user comes to the page. It can for example be useful if you want to keep track of how many times the user has visited that page.</p> <div class="remark-container tip"><div class="remark-container__title" data-svelte-h="svelte-1llzxwj">Example</div><p data-svelte-h="svelte-nzt7aq">Example of an app that uses <code>Page.onBefore()</code> to update how many times the user has visited that page.</p><div class="device-wrapper svelte-1r3wtoi"><div class="device"><div class="camera" data-svelte-h="svelte-3qmnnw">◎︎</div> <div class="screen" translate="no"></div> <div class="buttons" data-svelte-h="svelte-1yd6kf5"><span>◁</span> <span>○︎</span> <span>□</span></div></div> </div><a target="_blank" href="/editor#eNp9kd9LwzAQx/+V4/ChxVK6oS+FPbiX4YMoKoJYYVl7dcEtKcl1bpT87/bHWmeZPiTk7pLvfe6bCkVRYFxhqjPCGNONsBbuDjdFAbRnUpmF+lwlKuHUkGB6YmH4QXyQ57fZhA1xaRQMhSbrEuXQBVjUscX4rUKZYTwJMNebjMxtF/xqOrwfGjdB16NeqtyuyNznL9JKtjCDqK9oNadcmx+gIhxdvpzB5EjVPelGWZRyPMSj/rJhupabzJDyulLCzzVRyPXmLV91CWuxI9g10pQBr6WFZky4qMaNHbDckg2XftBLzUuugY9iCw2s2zGnSz9sRLw26K/7J9AOA9zXrl1HAR4wnkaRCzpXp/+52uqdd/RPE8aMK5F+NqDDD/WwQ+IM6NUJ6Lv7Br6B2hs=" title="Open in our Online Editor" data-svelte-h="svelte-1qaxxa4">Open in Online Editor</a><pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">StartPage</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span><span class="token punctuation">&#123;</span>
	
	numberOfVisits <span class="token operator">=</span> <span class="token number">0</span>
	
	<span class="token function">onBefore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		p<span class="token punctuation">.</span>numberOfVisits <span class="token operator">+=</span> <span class="token number">1</span>
	<span class="token punctuation">&#125;</span>
	
	<span class="token function">createGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> Rows<span class="token punctuation">.</span><span class="token function">children</span><span class="token punctuation">(</span>
			Text<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">You have visited this page </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>p<span class="token punctuation">.</span>numberOfVisits<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> times.</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			Button<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Go to Page2</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>Page2<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre><pre class="language-js"><!-- HTML_TAG_START --><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Page2</span> <span class="token keyword">extends</span> <span class="token class-name">Page</span><span class="token punctuation">&#123;</span>
	
	<span class="token function">createGui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> Button<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">Go back to StartPage</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>StartPage<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
	
<span class="token punctuation">&#125;</span></code><!-- HTML_TAG_END --></pre></div> <h2 data-svelte-h="svelte-4opca7">Exercises</h2> <p data-svelte-h="svelte-fy3v6t">Complete the exercises below to see if you have fully mastered what has been taught in this tutorial.</p> <div class="remark-container exercise"><div class="remark-container__title" data-svelte-h="svelte-1kqyz2o">Exercise 1</div><p data-svelte-h="svelte-k4r53h"><a href="/editor#eNq9kttKw0AQhl9lnRtbWEobLZTclCiiRTxgC1psoUsyaYPJbtidYEvIu5s0NjahVW/0YsNM5p/Tt5uCiGOwU3CVh2CDGwpj2N3GiWOGa0LpGZbb6UzOqDiuRkE4JqHpUSyx1S4jpJESLVkVKP5mZVIGGQdfhR5qA/ZrCoEHdo+DFFHRcZsCHJTvG6QXsLs7e5rb2ZxDnNerZZbFRqVTG7zqXw1fOI3pr5OgOfeTejcddxWEnkbZKkMzGsfCRb7zJnnJDuWf1uIGw1BxJgMXGSkWIRLbqORk0T6oDr6kBrFQMrEUgdzX13tdJERKfuY/3Fa6do0rhzXY590zDhuwrYG1gzXBKA7zRWvQapwc8zbyHS8J/wGWo8uVt5fGaCUk6w2GR1e/VGESyQMNmsIGpXu1V/IH7RTNN+LDsDNeorQaKK8koXaW+Pcgn1eCTk3BUufvB4e/ez297p6uHukfi1hHc6z+ka4NWPPsA0PKkeM=" target="_blank">This BagaWork project</a> contains a page that should display the message <code>Hello, nice to meet you!</code> the first time the user comes to the page, and all times after that, it should display the message <code>Hi, nice to see you again!</code>. Currently, it always displays both of the messages. Change the code so it works as it should, as shown below.</p><div class="device-wrapper svelte-1r3wtoi"><div class="device"><div class="camera" data-svelte-h="svelte-3qmnnw">◎︎</div> <div class="screen" translate="no"></div> <div class="buttons" data-svelte-h="svelte-1yd6kf5"><span>◁</span> <span>○︎</span> <span>□</span></div></div> </div><p data-svelte-h="svelte-1p13pmi">This app can also be implemented as two different pages, but to practice on what has been taught in this tutorial, you may only use one page.</p><details data-svelte-h="svelte-1olba28"><summary>Hint</summary><p>Use a counter in a page variable to keep track of how many times the user has seen the page. Let it start on <code>0</code>, and increment it by <code>1</code> each time <code>Page.onBefore()</code> runs. Then conditionally show the texts depending on if it has the value <code>1</code> or not.</p></details></div> <h2 data-svelte-h="svelte-p2uhy5">That&#39;s it!</h2> <p data-svelte-h="svelte-159thmx">Wow, wow, wow... Now you know about <code>onBefore()</code> too! 🥳 Excellent work, soon you&#39;ll be fully experienced programmer. Just 999 more things to learn before that 😉</p> <p data-svelte-h="svelte-latfks">Now you are done learning everything the Programming part of the tutorials were intended to teach you, so you should have some very fundamental understanding of programming now. To double check that you have learned everything you were meant to learn, try to complete the exercises in <a href="../exercises/">Programming 8. Exercises</a>.</p></main> <div class="footer svelte-e9cs16"><footer class="svelte-d9hz5y">Copyright Peter L-G 2025 |
	<a href="/motivation" data-svelte-h="svelte-10nr0t7">Motivation</a> |
	<a href="/glossary" data-svelte-h="svelte-1ftqd2z">Glossary</a> </footer></div> </div> 
			
			<script>
				{
					__sveltekit_1c823r3 = {
						base: new URL("../../..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../../../_app/immutable/entry/start.DfGQzRaj.js"),
						import("../../../_app/immutable/entry/app.4nlP2jWE.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 92],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
